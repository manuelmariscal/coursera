{"ast":null,"code":"var _jsxFileName = \"/home/omega/coursera/frontend/src/pages/MedicalRecords.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { ApiService } from '../services/api';\nimport { Modal, Button, Form, Table, Alert, Row, Col, Card, Image } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport './MedicalRecords.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MedicalRecords = () => {\n  _s();\n  const [fichas, setFichas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigate = useNavigate();\n\n  // Form state\n  const [formData, setFormData] = useState({\n    nombre: '',\n    apellido: '',\n    tipo_sangre: '',\n    contacto_emergencia: '',\n    numero_contacto: '',\n    alergias: '',\n    medicaciones: ''\n  });\n\n  // Cargar fichas médicas\n  const loadFichas = async () => {\n    try {\n      setLoading(true);\n      const data = await ApiService.getAllFichas();\n      setFichas(data);\n      setError(null);\n    } catch (err) {\n      setError('Error al cargar las fichas médicas');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    loadFichas();\n  }, []);\n\n  // Buscar fichas\n  const searchFichas = async () => {\n    if (!searchTerm.trim()) {\n      loadFichas();\n      return;\n    }\n    try {\n      setLoading(true);\n      // Intentar buscar por nombre o apellido\n      const data = await ApiService.searchFichas({\n        nombre: searchTerm,\n        apellido: searchTerm\n      });\n      setFichas(data);\n    } catch (err) {\n      setError('Error al buscar fichas médicas');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Manejo del formulario\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const resetForm = () => {\n    setFormData({\n      nombre: '',\n      apellido: '',\n      tipo_sangre: '',\n      contacto_emergencia: '',\n      numero_contacto: '',\n      alergias: '',\n      medicaciones: ''\n    });\n  };\n  const openCreateModal = () => {\n    resetForm();\n    setShowModal(true);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await ApiService.createFicha(formData);\n      setSuccessMessage('Ficha médica registrada con éxito - ID: ' + response.ficha.id);\n\n      // Cerrar modal y recargar datos\n      setShowModal(false);\n      loadFichas();\n\n      // Redirigir a la página de vista de QR después de 2 segundos\n      setTimeout(() => {\n        navigate(`/ficha/${response.ficha.id}`, {\n          state: {\n            isNew: true\n          }\n        });\n      }, 2000);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Error al guardar la ficha médica');\n      console.error(err);\n    }\n  };\n  const viewFicha = fichaId => {\n    navigate(`/ficha/${fichaId}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"medical-records-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"medical-records-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Fichas M\\xE9dicas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"subtitle\",\n        children: \"Consulte y registre informaci\\xF3n m\\xE9dica esencial\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), successMessage && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"success\",\n      onClose: () => setSuccessMessage(''),\n      dismissible: true,\n      children: successMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      onClose: () => setError(null),\n      dismissible: true,\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"medical-records-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-box\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Buscar por nombre o apellido\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          onKeyPress: e => e.key === 'Enter' && searchFichas()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-primary\",\n          onClick: searchFichas,\n          children: \"Buscar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: openCreateModal,\n        children: \"Crear Nueva Ficha M\\xE9dica\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-message\",\n      children: \"Cargando fichas m\\xE9dicas...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Row, {\n      xs: 1,\n      md: 2,\n      lg: 3,\n      className: \"g-4\",\n      children: fichas.length === 0 ? /*#__PURE__*/_jsxDEV(Col, {\n        className: \"text-center w-100\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No hay fichas m\\xE9dicas registradas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }, this) : fichas.map(ficha => /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"medical-card\",\n          onClick: () => viewFicha(ficha.id),\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"patient-photo-container\",\n              children: /*#__PURE__*/_jsxDEV(Image, {\n                src: ficha.foto_url === 'default.jpg' ? '/default-profile.png' : `${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/uploads/${ficha.foto_url}`,\n                alt: \"Foto del paciente\",\n                className: \"patient-photo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Card.Title, {\n              className: \"text-center mb-3\",\n              children: [ficha.nombre, \" \", ficha.apellido]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"medical-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"ID:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 26\n                }, this), \" \", ficha.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Tipo de Sangre:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 26\n                }, this), \" \", ficha.tipo_sangre]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Contacto:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 26\n                }, this), \" \", ficha.contacto_emergencia]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mt-3\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-success\",\n                size: \"sm\",\n                children: \"Ver Detalles\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 17\n        }, this)\n      }, ficha.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 15\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onHide: () => setShowModal(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        className: \"medical-modal-header\",\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Crear Nueva Ficha M\\xE9dica\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Nombre *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"nombre\",\n                  value: formData.nombre,\n                  onChange: handleChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Apellido *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"apellido\",\n                  value: formData.apellido,\n                  onChange: handleChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Tipo de Sangre *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n              name: \"tipo_sangre\",\n              value: formData.tipo_sangre,\n              onChange: handleChange,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Seleccionar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"O+\",\n                children: \"O+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"O-\",\n                children: \"O-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"A+\",\n                children: \"A+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"A-\",\n                children: \"A-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"B+\",\n                children: \"B+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"B-\",\n                children: \"B-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"AB+\",\n                children: \"AB+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"AB-\",\n                children: \"AB-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Contacto de Emergencia *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"contacto_emergencia\",\n              value: formData.contacto_emergencia,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"N\\xFAmero de Contacto *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"numero_contacto\",\n              value: formData.numero_contacto,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Alergias\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              rows: 2,\n              name: \"alergias\",\n              value: formData.alergias,\n              onChange: handleChange,\n              placeholder: \"Ninguna\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Medicaciones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              rows: 2,\n              name: \"medicaciones\",\n              value: formData.medicaciones,\n              onChange: handleChange,\n              placeholder: \"Ninguna\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: () => setShowModal(false),\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              children: \"Registrar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n};\n_s(MedicalRecords, \"eBXQ1NTWQx7XLNd70BTmWl4i82k=\", false, function () {\n  return [useNavigate];\n});\n_c = MedicalRecords;\nexport default MedicalRecords;\nvar _c;\n$RefreshReg$(_c, \"MedicalRecords\");","map":{"version":3,"names":["React","useState","useEffect","ApiService","Modal","Button","Form","Table","Alert","Row","Col","Card","Image","useNavigate","jsxDEV","_jsxDEV","MedicalRecords","_s","fichas","setFichas","loading","setLoading","error","setError","showModal","setShowModal","searchTerm","setSearchTerm","successMessage","setSuccessMessage","navigate","formData","setFormData","nombre","apellido","tipo_sangre","contacto_emergencia","numero_contacto","alergias","medicaciones","loadFichas","data","getAllFichas","err","console","searchFichas","trim","handleChange","e","name","value","target","prev","resetForm","openCreateModal","handleSubmit","preventDefault","response","createFicha","ficha","id","setTimeout","state","isNew","_err$response","_err$response$data","viewFicha","fichaId","className","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","onClose","dismissible","Control","type","placeholder","onChange","onKeyPress","key","onClick","xs","md","lg","length","map","Body","src","foto_url","process","env","REACT_APP_API_URL","alt","Title","size","show","onHide","Header","closeButton","onSubmit","Group","Label","required","Select","as","rows","_c","$RefreshReg$"],"sources":["/home/omega/coursera/frontend/src/pages/MedicalRecords.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ApiService } from '../services/api';\nimport { Modal, Button, Form, Table, Alert, Row, Col, Card, Image } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport './MedicalRecords.css';\n\nconst MedicalRecords = () => {\n  const [fichas, setFichas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigate = useNavigate();\n\n  // Form state\n  const [formData, setFormData] = useState({\n    nombre: '',\n    apellido: '',\n    tipo_sangre: '',\n    contacto_emergencia: '',\n    numero_contacto: '',\n    alergias: '',\n    medicaciones: ''\n  });\n\n  // Cargar fichas médicas\n  const loadFichas = async () => {\n    try {\n      setLoading(true);\n      const data = await ApiService.getAllFichas();\n      setFichas(data);\n      setError(null);\n    } catch (err) {\n      setError('Error al cargar las fichas médicas');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadFichas();\n  }, []);\n\n  // Buscar fichas\n  const searchFichas = async () => {\n    if (!searchTerm.trim()) {\n      loadFichas();\n      return;\n    }\n\n    try {\n      setLoading(true);\n      // Intentar buscar por nombre o apellido\n      const data = await ApiService.searchFichas({ \n        nombre: searchTerm,\n        apellido: searchTerm\n      });\n      setFichas(data);\n    } catch (err) {\n      setError('Error al buscar fichas médicas');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Manejo del formulario\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const resetForm = () => {\n    setFormData({\n      nombre: '',\n      apellido: '',\n      tipo_sangre: '',\n      contacto_emergencia: '',\n      numero_contacto: '',\n      alergias: '',\n      medicaciones: ''\n    });\n  };\n\n  const openCreateModal = () => {\n    resetForm();\n    setShowModal(true);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      const response = await ApiService.createFicha(formData);\n      setSuccessMessage('Ficha médica registrada con éxito - ID: ' + response.ficha.id);\n      \n      // Cerrar modal y recargar datos\n      setShowModal(false);\n      loadFichas();\n\n      // Redirigir a la página de vista de QR después de 2 segundos\n      setTimeout(() => {\n        navigate(`/ficha/${response.ficha.id}`, { state: { isNew: true } });\n      }, 2000);\n    } catch (err) {\n      setError(err.response?.data?.error || 'Error al guardar la ficha médica');\n      console.error(err);\n    }\n  };\n\n  const viewFicha = (fichaId) => {\n    navigate(`/ficha/${fichaId}`);\n  };\n\n  return (\n    <div className=\"medical-records-container\">\n      <div className=\"medical-records-header\">\n        <h1>Fichas Médicas</h1>\n        <p className=\"subtitle\">Consulte y registre información médica esencial</p>\n      </div>\n\n      {successMessage && (\n        <Alert variant=\"success\" onClose={() => setSuccessMessage('')} dismissible>\n          {successMessage}\n        </Alert>\n      )}\n\n      {error && (\n        <Alert variant=\"danger\" onClose={() => setError(null)} dismissible>\n          {error}\n        </Alert>\n      )}\n\n      <div className=\"medical-records-actions\">\n        <div className=\"search-box\">\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Buscar por nombre o apellido\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            onKeyPress={(e) => e.key === 'Enter' && searchFichas()}\n          />\n          <Button variant=\"outline-primary\" onClick={searchFichas}>Buscar</Button>\n        </div>\n        <Button variant=\"primary\" onClick={openCreateModal}>\n          Crear Nueva Ficha Médica\n        </Button>\n      </div>\n\n      {loading ? (\n        <div className=\"loading-message\">Cargando fichas médicas...</div>\n      ) : (\n        <Row xs={1} md={2} lg={3} className=\"g-4\">\n          {fichas.length === 0 ? (\n            <Col className=\"text-center w-100\">\n              <p>No hay fichas médicas registradas</p>\n            </Col>\n          ) : (\n            fichas.map((ficha) => (\n              <Col key={ficha.id}>\n                <Card className=\"medical-card\" onClick={() => viewFicha(ficha.id)}>\n                  <Card.Body>\n                    <div className=\"patient-photo-container\">\n                      <Image \n                        src={ficha.foto_url === 'default.jpg' \n                          ? '/default-profile.png' \n                          : `${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/uploads/${ficha.foto_url}`} \n                        alt=\"Foto del paciente\" \n                        className=\"patient-photo\" \n                      />\n                    </div>\n                    <Card.Title className=\"text-center mb-3\">\n                      {ficha.nombre} {ficha.apellido}\n                    </Card.Title>\n                    <div className=\"medical-info\">\n                      <p><strong>ID:</strong> {ficha.id}</p>\n                      <p><strong>Tipo de Sangre:</strong> {ficha.tipo_sangre}</p>\n                      <p><strong>Contacto:</strong> {ficha.contacto_emergencia}</p>\n                    </div>\n                    <div className=\"text-center mt-3\">\n                      <Button variant=\"outline-success\" size=\"sm\">Ver Detalles</Button>\n                    </div>\n                  </Card.Body>\n                </Card>\n              </Col>\n            ))\n          )}\n        </Row>\n      )}\n\n      {/* Modal para crear ficha médica */}\n      <Modal show={showModal} onHide={() => setShowModal(false)}>\n        <Modal.Header closeButton className=\"medical-modal-header\">\n          <Modal.Title>\n            Crear Nueva Ficha Médica\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form onSubmit={handleSubmit}>\n            <Row>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>Nombre *</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    name=\"nombre\"\n                    value={formData.nombre}\n                    onChange={handleChange}\n                    required\n                  />\n                </Form.Group>\n              </Col>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>Apellido *</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    name=\"apellido\"\n                    value={formData.apellido}\n                    onChange={handleChange}\n                    required\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Tipo de Sangre *</Form.Label>\n              <Form.Select\n                name=\"tipo_sangre\"\n                value={formData.tipo_sangre}\n                onChange={handleChange}\n                required\n              >\n                <option value=\"\">Seleccionar</option>\n                <option value=\"O+\">O+</option>\n                <option value=\"O-\">O-</option>\n                <option value=\"A+\">A+</option>\n                <option value=\"A-\">A-</option>\n                <option value=\"B+\">B+</option>\n                <option value=\"B-\">B-</option>\n                <option value=\"AB+\">AB+</option>\n                <option value=\"AB-\">AB-</option>\n              </Form.Select>\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Contacto de Emergencia *</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"contacto_emergencia\"\n                value={formData.contacto_emergencia}\n                onChange={handleChange}\n                required\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Número de Contacto *</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"numero_contacto\"\n                value={formData.numero_contacto}\n                onChange={handleChange}\n                required\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Alergias</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows={2}\n                name=\"alergias\"\n                value={formData.alergias}\n                onChange={handleChange}\n                placeholder=\"Ninguna\"\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Medicaciones</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows={2}\n                name=\"medicaciones\"\n                value={formData.medicaciones}\n                onChange={handleChange}\n                placeholder=\"Ninguna\"\n              />\n            </Form.Group>\n\n            <div className=\"form-actions\">\n              <Button variant=\"secondary\" onClick={() => setShowModal(false)}>\n                Cancelar\n              </Button>\n              <Button variant=\"primary\" type=\"submit\">\n                Registrar\n              </Button>\n            </div>\n          </Form>\n        </Modal.Body>\n      </Modal>\n    </div>\n  );\n};\n\nexport default MedicalRecords; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}